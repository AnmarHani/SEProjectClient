{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axiosInstance from '../../../services/axios';\nimport { useMutation } from 'react-query';\n\nconst postRegister = async body => {\n  return await axiosInstance.post(\"/users/register\", body);\n};\n\nexport const useRegister = props => {\n  _s();\n\n  // { isLoading, isError, error, data, mutate }\n  return useMutation(postRegister, {\n    onSuccess: data => {\n      axiosInstance.defaults.headers.common['Authorization'] = data.data.token;\n      localStorage.setItem(\"token\", data.data.token);\n      localStorage.setItem(\"user\", data.data.user);\n      props.setUser(data.data.user);\n      props.navigate(`/users/update`);\n    }\n  });\n};\n\n_s(useRegister, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"names":["axiosInstance","useMutation","postRegister","body","post","useRegister","props","onSuccess","data","defaults","headers","common","token","localStorage","setItem","user","setUser","navigate"],"sources":["/home/artificialubuntu/Desktop/Programming/Web/SEUniversityProject/client/src/hooks/api/users/useRegister.js"],"sourcesContent":["import axiosInstance from '../../../services/axios'\nimport { useMutation } from 'react-query'\n\nconst postRegister = async(body) => {\n    return await axiosInstance.post(\"/users/register\", body)\n}\n\nexport const useRegister = (props) => {\n    // { isLoading, isError, error, data, mutate }\n    return useMutation(postRegister, {\n        onSuccess: (data) => {\n            axiosInstance.defaults.headers.common['Authorization'] = data.data.token\n            localStorage.setItem(\"token\", data.data.token);\n            localStorage.setItem(\"user\", data.data.user);\n            props.setUser(data.data.user)\n\n            props.navigate(`/users/update`)\n        }\n    })\n}"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,yBAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,YAAY,GAAG,MAAMC,IAAN,IAAe;EAChC,OAAO,MAAMH,aAAa,CAACI,IAAd,CAAmB,iBAAnB,EAAsCD,IAAtC,CAAb;AACH,CAFD;;AAIA,OAAO,MAAME,WAAW,GAAIC,KAAD,IAAW;EAAA;;EAClC;EACA,OAAOL,WAAW,CAACC,YAAD,EAAe;IAC7BK,SAAS,EAAGC,IAAD,IAAU;MACjBR,aAAa,CAACS,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsC,eAAtC,IAAyDH,IAAI,CAACA,IAAL,CAAUI,KAAnE;MACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,IAAI,CAACA,IAAL,CAAUI,KAAxC;MACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BN,IAAI,CAACA,IAAL,CAAUO,IAAvC;MACAT,KAAK,CAACU,OAAN,CAAcR,IAAI,CAACA,IAAL,CAAUO,IAAxB;MAEAT,KAAK,CAACW,QAAN,CAAgB,eAAhB;IACH;EAR4B,CAAf,CAAlB;AAUH,CAZM;;GAAMZ,W;UAEFJ,W"},"metadata":{},"sourceType":"module"}