{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axiosInstance from '../../../services/axios';\nimport { useMutation } from 'react-query';\n\nconst postLogin = async body => {\n  return await axiosInstance.post(\"/users/login\", body);\n};\n\nexport const useLogin = props => {\n  _s();\n\n  // { isLoading, isError, error, data, mutate }\n  return useMutation(postLogin, {\n    onSuccess: data => {\n      axiosInstance.defaults.headers.common['Authorization'] = data.data.token;\n      localStorage.setItem(\"token\", data.data.token);\n      localStorage.setItem(\"user\", data.data.user);\n      props.setUser(data.data.user);\n      props.navigate(\"/home\");\n    }\n  });\n};\n\n_s(useLogin, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"names":["axiosInstance","useMutation","postLogin","body","post","useLogin","props","onSuccess","data","defaults","headers","common","token","localStorage","setItem","user","setUser","navigate"],"sources":["/home/artificialubuntu/Desktop/Programming/Web/SEUniversityProject/client/src/hooks/api/users/useLogin.js"],"sourcesContent":["import axiosInstance from '../../../services/axios'\nimport { useMutation } from 'react-query'\n\nconst postLogin = async(body) => {\n    return await axiosInstance.post(\"/users/login\", body)\n}\n\nexport const useLogin = (props) => {\n    // { isLoading, isError, error, data, mutate }\n    return useMutation(postLogin, {\n        onSuccess: (data) => {\n            axiosInstance.defaults.headers.common['Authorization'] = data.data.token\n            localStorage.setItem(\"token\", data.data.token);\n            localStorage.setItem(\"user\", data.data.user);\n            props.setUser(data.data.user)\n\n            props.navigate(\"/home\")\n        }\n    })\n}"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,yBAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,SAAS,GAAG,MAAMC,IAAN,IAAe;EAC7B,OAAO,MAAMH,aAAa,CAACI,IAAd,CAAmB,cAAnB,EAAmCD,IAAnC,CAAb;AACH,CAFD;;AAIA,OAAO,MAAME,QAAQ,GAAIC,KAAD,IAAW;EAAA;;EAC/B;EACA,OAAOL,WAAW,CAACC,SAAD,EAAY;IAC1BK,SAAS,EAAGC,IAAD,IAAU;MACjBR,aAAa,CAACS,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsC,eAAtC,IAAyDH,IAAI,CAACA,IAAL,CAAUI,KAAnE;MACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,IAAI,CAACA,IAAL,CAAUI,KAAxC;MACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BN,IAAI,CAACA,IAAL,CAAUO,IAAvC;MACAT,KAAK,CAACU,OAAN,CAAcR,IAAI,CAACA,IAAL,CAAUO,IAAxB;MAEAT,KAAK,CAACW,QAAN,CAAe,OAAf;IACH;EARyB,CAAZ,CAAlB;AAUH,CAZM;;GAAMZ,Q;UAEFJ,W"},"metadata":{},"sourceType":"module"}